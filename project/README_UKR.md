# Nginx Web Server - DevOps Automation

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è Nginx –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ AWS –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Infrastructure as Code —Ç–∞ Configuration Management.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

- **Terraform** - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –Ω–∞ AWS (EC2)
- **Ansible** - –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Å–µ—Ä–≤–µ—Ä–∞ —Ç–∞ –¥–µ–ø–ª–æ–π
- **Docker & Docker Compose** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è Nginx
- **GitHub Actions** - CI/CD pipeline

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
project/
‚îú‚îÄ‚îÄ terraform/          # Infrastructure as Code
‚îÇ   ‚îú‚îÄ‚îÄ main.tf         # AWS EC2 —Ä–µ—Å—É—Ä—Å–∏
‚îÇ   ‚îú‚îÄ‚îÄ variables.tf    # –ó–º—ñ–Ω–Ω—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf      # Output –∑–Ω–∞—á–µ–Ω–Ω—è (IP –∞–¥—Ä–µ—Å–∞)
‚îÇ
‚îú‚îÄ‚îÄ ansible/            # Configuration Management
‚îÇ   ‚îú‚îÄ‚îÄ install_docker.yml    # –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Docker
‚îÇ   ‚îú‚îÄ‚îÄ deploy_nginx.yml      # –î–µ–ø–ª–æ–π Nginx
‚îÇ   ‚îî‚îÄ‚îÄ inventory.ini         # Inventory —Ñ–∞–π–ª
‚îÇ
‚îú‚îÄ‚îÄ nginx/              # Nginx –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.yml
‚îÇ   ‚îú‚îÄ‚îÄ nginx.conf
‚îÇ   ‚îî‚îÄ‚îÄ entrypoint.sh
‚îÇ
‚îî‚îÄ‚îÄ run.sh              # –õ–æ–∫–∞–ª—å–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫—É
```

## üöÄ –î–µ–ø–ª–æ–π —É DockerHUB

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

- –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π Docker —Ç–∞ Docker Compose
- Login –≤ DockerHUB (docker login) —ñ –≤–≤–µ—Å—Ç–∏ —Å–≤–æ—ó –¥–∞–Ω–Ω—ñ

### –ó–∞–ø—É—Å–∫

```bash
cd project/nginx
sh run_send_to_hub.sh
```
## üöÄ –ó–∞–ø—É—Å–∫ –Ω–∞ –∫–æ–º–ø º—é—Ç–µ—Ä—ñ

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

- –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π Docker —Ç–∞ Docker Compose

### –ó–∞–ø—É—Å–∫

```bash
cd project/nginx
docker compose up -d
```

## üöÄ –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

- AWS CLI –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –∑ credentials
- Terraform –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π
- Ansible –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π
- SSH –∫–ª—é—á –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –≤ AWS

### –ó–∞–ø—É—Å–∫

```bash
cd project
sh run.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
1. –°—Ç–≤–æ—Ä—é—î EC2 —ñ–Ω—Å—Ç–∞–Ω—Å —á–µ—Ä–µ–∑ Terraform
2. –û—Ç—Ä–∏–º—É—î public IP –∞–¥—Ä–µ—Å—É
3. –í—Å—Ç–∞–Ω–æ–≤–ª—é—î Docker —á–µ—Ä–µ–∑ Ansible
4. –î–µ–ø–ª–æ—ó—Ç—å Nginx –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
5. –í–∏–≤–æ–¥–∏—Ç—å URL –¥–ª—è –¥–æ—Å—Ç—É–ø—É: `http://<IP>:8080`

## üîÑ CI/CD Pipeline

GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ–Ω—É—î –¥–µ–ø–ª–æ–π –ø—Ä–∏ push –≤ `main`:

1. **Terraform Apply** - —Å—Ç–≤–æ—Ä—é—î EC2 —ñ–Ω—Å—Ç–∞–Ω—Å
2. **Get Server IP** - –æ—Ç—Ä–∏–º—É—î public IP
3. **Ansible Playbooks** - –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î Docker —Ç–∞ –¥–µ–ø–ª–æ—ó—Ç—å Nginx
4. **Cleanup** - –≤–∏–¥–∞–ª—è—î —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É —á–µ—Ä–µ–∑ 15 —Ö–≤–∏–ª–∏–Ω

### –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ Secrets –≤ GitHub

- `AWS_ACCESS_KEY_ID`
- `AWS_SECRET_ACCESS_KEY`
- `AWS_REGION`
- `SSH_PRIVATE_KEY` - –ø—Ä–∏–≤–∞—Ç–Ω–∏–π SSH –∫–ª—é—á –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ EC2

## ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### Terraform –∑–º—ñ–Ω–Ω—ñ (variables.tf)

- `region` - AWS —Ä–µ–≥—ñ–æ–Ω (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: us-east-1)
- `instance_type` - —Ç–∏–ø —ñ–Ω—Å—Ç–∞–Ω—Å—É (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: t3.micro)
- `instance_ami` - AMI ID
- `ssh_key_name` - –Ω–∞–∑–≤–∞ SSH –∫–ª—é—á–∞ –≤ AWS

### Nginx

- –ü–æ—Ä—Ç: `8080`
- –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è: `nginx/nginx.conf`
- HTML —à–∞–±–ª–æ–Ω: `nginx/index.html.template`

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

- –ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ `http://<public_ip>:8080`
- CI/CD –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª—è—î —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É —á–µ—Ä–µ–∑ 15 —Ö–≤–∏–ª–∏–Ω
- –î–ª—è –ø–æ—Å—Ç—ñ–π–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –≤–∏–¥–∞–ª—ñ—Ç—å –∫—Ä–æ–∫ "Terraform Destroy" –∑ workflow
